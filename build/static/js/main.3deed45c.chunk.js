(this["webpackJsonpdrummond-bank-demo"]=this["webpackJsonpdrummond-bank-demo"]||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(20),r=a.n(s),i=(a(26),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))}),o=a(17),l=a(4),u=(a(27),a(14)),d=a(3),j=a(37),b=a(0);var m=function(){var e,t,a=Object(n.useState)(!1),s=Object(l.a)(a,2),r=s[0],i=s[1],o=c.a.useContext(S),u=Object(d.e)(),m=function(){i(JSON.parse(localStorage.getItem("isLogin")||"false"))};Object(n.useEffect)((function(){console.log("login..."),m()}));var g=localStorage.getItem("isLogin");o.loggedInUser=o.users.find((function(e){return e.id.toString()===g}));var O=null!==(e=null===(t=o.loggedInUser)||void 0===t?void 0:t.firstName)&&void 0!==e?e:"";return Object(b.jsx)("div",{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("div",{children:Object(b.jsx)("a",{className:"navbar-brand",href:"#",children:"Drummond Bank"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(b.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:r?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/deposit/",activeClassName:"nav-link--active","data-toggle":"tooltip","data-placement":"top",title:"Make an account deposit",children:"Deposit"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/withdraw/",activeClassName:"nav-link--active","data-toggle":"tooltip","data-placement":"top",title:"Make an account withdrawal",children:"Withdraw"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/accountevents/",activeClassName:"nav-link--active","data-toggle":"tooltip","data-placement":"top",title:"Review account activity",children:"Account Events"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"/","data-toggle":"tooltip","data-placement":"top",title:"Logout",onClick:function(e){e.preventDefault(),localStorage.removeItem("isLogin"),console.log("logged in user in LOGOUT HANDLE: "+o.loggedInUser),m(),u.push("/")},children:"Logout"})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/createaccount/",activeClassName:"nav-link--active","data-toggle":"tooltip","data-placement":"top",title:"Earn $100 just for opening an account!",children:"Create Account"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("a",{className:"nav-link",href:"#/login/",activeClassName:"nav-link--active","data-toggle":"tooltip","data-placement":"top",title:"Login to an existing account",children:"Login "})})]})})}),Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{className:"text-center",children:Object(b.jsx)(j.a.Body,{children:Object(b.jsx)(j.a.Title,{children:Object(b.jsxs)("h6",{children:["Welcome ",O]})})})})})]})})})},g=a(36);var O=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{className:"text-center",children:Object(b.jsxs)(j.a.Body,{children:[Object(b.jsx)(j.a.Title,{children:Object(b.jsx)("h4",{children:"For all your banking needs"})}),Object(b.jsx)(g.a,{src:"data:image/png;base64,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",fluid:!0,alt:"Responsive"})]})})})};var h=function(e){return Object(b.jsxs)("div",{className:"card mb-3 "+(e.bgcolor?" bg-"+e.bgcolor:" ")+(e.txtcolor?" test-"+e.txtcolor:" text-white"),style:{margin:"auto",maxWidth:"40rem"},children:[Object(b.jsx)("div",{className:"card-header",children:e.header}),Object(b.jsxs)("div",{className:"card-body",children:[e.title&&Object(b.jsx)("h5",{className:"card-title",children:e.title}),e.text&&Object(b.jsx)("h5",{className:"card-text",children:e.text}),e.body,e.status&&Object(b.jsx)("div",{id:"createStatus",children:e.status})]})]})};var v=function(){var e=c.a.useState(!0),t=Object(l.a)(e,2),a=t[0],n=t[1],s=c.a.useState(""),r=Object(l.a)(s,2),i=r[0],o=r[1],u=c.a.useState(""),d=Object(l.a)(u,2),j=d[0],m=d[1],g=c.a.useState(""),O=Object(l.a)(g,2),v=O[0],x=O[1],p=c.a.useState(""),f=Object(l.a)(p,2),N=f[0],A=f[1],w=c.a.useState(""),y=Object(l.a)(w,2),C=y[0],T=y[1],E=c.a.useContext(S),L=c.a.useState(!0),I=Object(l.a)(L,2),U=I[0],R=I[1];function D(e,t){return e?!("Password"===t&&e.length<8)||(o("Error: "+t+" must be >= 8 characters"),setTimeout((function(){return o("")}),3e3),!1):(o("Error: "+t+" must be populated"),setTimeout((function(){return o("")}),3e3),!1)}return c.a.useEffect((function(){j.length>0&&v.length>0&&N.length>0&&C.length>0?R(!1):R(!0)}),[j,v,N,C]),Object(b.jsx)(h,{bgcolor:"primary",header:"Create Account",status:i,body:a?Object(b.jsxs)(b.Fragment,{children:["First Name",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"txtFirstName",placeholder:"Enter first name",value:j,onChange:function(e){return m(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Last Name",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"txtLastName",placeholder:"Enter last name",value:v,onChange:function(e){return x(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Email",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"txtEmail",placeholder:"Enter email",value:N,onChange:function(e){return A(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Password",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"txtPassword",placeholder:"Enter password",value:C,onChange:function(e){return T(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:"8 characters or more"}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",id:"btnCreateAccount",disabled:U,onClick:function(){if(console.log(j,v,N,C),D(j,"First Name")&&D(v,"Last Name")&&D(N,"Email")&&D(C,"Password")){var e=JSON.parse(localStorage.getItem("users")||"[]");e.push({id:e.length+1,firstName:j,lastName:v,email:N,password:C,balance:100,events:[]}),localStorage.setItem("users",JSON.stringify(e)),E.users=e,n(!1)}},children:"Create Account"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h5",{children:"Success"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",id:"btnAddAnotherAccount",onClick:function(){m(""),x(""),A(""),T(""),n(!0)},children:"Add another account"})]})})};var x=function(){var e,t,a=c.a.useState(!0),n=Object(l.a)(a,2),s=(n[0],n[1]),r=c.a.useState(""),i=Object(l.a)(r,2),o=i[0],u=i[1],d=c.a.useState(0),j=Object(l.a)(d,2),m=j[0],g=j[1],O=c.a.useState(!0),v=Object(l.a)(O,2),x=v[0],p=v[1],f=c.a.useContext(S),N=c.a.useState(!1),A=Object(l.a)(N,2);A[0],A[1],console.log("Deposit page:  "+JSON.stringify(f.loggedInUser)+"is logged in"),f.users=JSON.parse(localStorage.getItem("users")||"[]");var w=localStorage.getItem("isLogin");f.loggedInUser=f.users.find((function(e){return e.id.toString()===w}));var y=null!==(e=null===(t=f.loggedInUser)||void 0===t?void 0:t.balance)&&void 0!==e?e:0;function C(e,t){return e?m<=0?(u("Error: Deposit amount must be a positive number"),setTimeout((function(){return u("")}),3e3),!1):(g(""),s(!0),!0):(u("Error: Deposit amount cannot be empty"),setTimeout((function(){return u("")}),3e3),!1)}return c.a.useEffect((function(){p(!(m>0))}),[m]),Object(b.jsx)("div",{children:Object(b.jsx)(h,{bgcolor:"success",header:"Make a Deposit",status:o,body:Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{children:["Balance: $",y]}),Object(b.jsx)("br",{}),"Deposit amount",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"number",className:"form-control",id:"deposit",min:"1",placeholder:"Enter deposit amount",value:m,onChange:function(e){return g(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",disabled:x,onClick:function(){C(m)&&(f.handleTransaction("Deposit",m),u("Deposit of $"+m+" successfully completed!"),setTimeout((function(){return u("")}),2e3))},children:"Deposit"})]})})})};var p=function(){var e,t,a=c.a.useState(!0),n=Object(l.a)(a,2),s=(n[0],n[1]),r=c.a.useState(""),i=Object(l.a)(r,2),o=i[0],u=i[1],d=c.a.useState(0),j=Object(l.a)(d,2),m=j[0],g=j[1],O=c.a.useState(!0),v=Object(l.a)(O,2),x=v[0],p=v[1],f=c.a.useContext(S);console.log("Withdraw page:  "+JSON.stringify(f.loggedInUser)+"is logged in"),f.users=JSON.parse(localStorage.getItem("users")||"[]");var N=localStorage.getItem("isLogin");f.loggedInUser=f.users.find((function(e){return e.id.toString()===N}));var A=null!==(e=null===(t=f.loggedInUser)||void 0===t?void 0:t.balance)&&void 0!==e?e:0;function w(e,t){return e?A-m<0?(u("Error: Withdrawal transaction cannot result in a negative balance"),setTimeout((function(){return u("")}),3e3),!1):m<=0?(u("Error: Withdrawal amount must be a positive number"),setTimeout((function(){return u("")}),3e3),!1):(g(""),s(!0),!0):(u("Error: Withdrawal amount must be > 0"),setTimeout((function(){return u("")}),3e3),!1)}return c.a.useEffect((function(){p(!(m>0))}),[m]),Object(b.jsx)(h,{bgcolor:"warning",header:"Make a Withdrawal",status:o,body:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("label",{children:["Balance: $",A]}),Object(b.jsx)("br",{}),"Withdrawal amount",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"number",className:"form-control",id:"deposit",min:"0",max:A,placeholder:"Enter withdrawal amount",value:m,onChange:function(e){return g(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",disabled:x,onClick:function(){w(m)&&(A-m<0||(f.handleTransaction("Withdrawal",m),u("Withdrawal of $"+m+" successfully completed!"),setTimeout((function(){return u("")}),2e3)))},children:"Withdraw"})]})})},f=function(){return Object(b.jsx)("div",{className:"card-header",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:"Date"}),Object(b.jsx)("div",{className:"col",children:"Type"}),Object(b.jsx)("div",{className:"col",children:"Amount"}),Object(b.jsx)("div",{className:"col",children:"Balance"}),Object(b.jsx)("div",{className:"col",children:"User"})]})})};var N=function(){var e,t,a=c.a.useContext(S),n=c.a.Fragment;a.users=JSON.parse(localStorage.getItem("users")||"[]");var s=localStorage.getItem("isLogin");return a.loggedInUser=a.users.find((function(e){return e.id.toString()===s})),console.log("Events page:  "+JSON.stringify(a.loggedInUser)+"is logged in"),Object(b.jsx)("div",{children:Object(b.jsx)(h,{bgcolor:"info",className:"text-center",header:"Account Events",body:Object(b.jsxs)(n,{children:[Object(b.jsx)(f,{}),null===(e=a.loggedInUser)||void 0===e||null===(t=e.events)||void 0===t?void 0:t.map((function(e,t){return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"table-wrapper",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:e.date}),Object(b.jsx)("div",{className:"col",children:e.type}),Object(b.jsx)("div",{className:"col",children:e.amount}),Object(b.jsx)("div",{className:"col",children:e.balance}),Object(b.jsx)("div",{className:"col",children:e.user})]})})})}))]})})})};var A=function(e){var t=e.triggerLogin,a=c.a.useState(""),n=Object(l.a)(a,2),s=n[0],r=n[1],i=c.a.useState(""),o=Object(l.a)(i,2),u=o[0],j=o[1],m=c.a.useState(""),g=Object(l.a)(m,2),O=g[0],v=g[1],x=c.a.useContext(S),p=Object(d.e)(),f=c.a.useState(!0),N=Object(l.a)(f,2),A=N[0],w=N[1];function y(e,t){return!!e||(r("Error: "+t+" must be populated"),setTimeout((function(){return r("")}),3e3),!1)}return c.a.useEffect((function(){u.length>0&&O.length>0?w(!1):w(!0)}),[u,O]),Object(b.jsx)(h,{bgcolor:"primary",header:"Login",status:s,body:Object(b.jsxs)(b.Fragment,{children:["Email",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"email",placeholder:"Enter email",value:u,onChange:function(e){return j(e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Password",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",value:O,onChange:function(e){return v(e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",disabled:A,onClick:function(){if(y(u,"Email")&&y(O,"Password")){var e=!1;if(x.users=JSON.parse(localStorage.getItem("users")||"[]"),x.users.forEach((function(t){u===t.email&&O===t.password&&(e=!0)})),e){var a=x.users.find((function(e){return e.email===u}));x.setLoggedInUser(a),setTimeout((function(){return alert("Welcome "+a.firstName+"!")}),500),console.log("logged in user:  LOGIN HANDLE"+JSON.stringify(a)),localStorage.setItem("isLogin",a.id),t(),p.push("/");var n=new function(e,t,a,n,c){return{date:e,type:t,amount:a,balance:n,user:c}}((new Date).toLocaleString(),"Login",null,a.balance,a.lastName+", "+a.firstName);a.events.push(n)}else r("Error: Email or password is not matched")}},children:"Login"})]})})},S=Object(n.createContext)(null);var w=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)((new Date).toISOString()),i=Object(l.a)(r,2),j=(i[0],i[1]),g=c.a.useState(null),h=Object(l.a)(g,2),f=h[0],w=h[1];return Object(n.useEffect)((function(){s(JSON.parse(localStorage.getItem("users")||"[]"));var e=JSON.parse(localStorage.getItem("users")||"[]"),t=localStorage.getItem("isLogin");w(e.find((function(e){return e.id.toString()===t})))}),[]),Object(b.jsx)(u.a,{children:Object(b.jsxs)(S.Provider,{value:{users:a,handleTransaction:function(e,t){var a,n=null!==(a=null===f||void 0===f?void 0:f.balance)&&void 0!==a?a:0,c=0;"Deposit"===e?c=Number(n)+Number(t):"Withdrawal"===e&&(c=Number(n)-Number(t)),console.log("Parent is receiving transaction amount of: "+t),f.balance=c;var s=new function(e,t,a,n,c){return{date:e,type:t,amount:a,balance:n,user:c}}((new Date).toLocaleString(),e,t,f.balance,f.lastName+", "+f.firstName);f.events.push(s),w(f);var r=JSON.parse(localStorage.getItem("users")||"[]").map((function(e){return f.id===e.id?Object(o.a)(Object(o.a)({},e),{},{balance:f.balance,events:f.events}):e}));localStorage.setItem("users",JSON.stringify(r))},loggedInUser:f,setLoggedInUser:w,setUsers:s},children:[Object(b.jsx)(m,{}),Object(b.jsx)(d.a,{path:"/",exact:!0,component:O}),Object(b.jsx)(d.a,{path:"/createaccount/",component:v}),Object(b.jsx)(d.a,{path:"/deposit/",component:x}),Object(b.jsx)(d.a,{path:"/withdraw/",component:p}),Object(b.jsx)(d.a,{path:"/accountevents",component:N}),Object(b.jsx)(d.a,{path:"/login/",component:function(){return Object(b.jsx)(A,{triggerLogin:function(){return j((new Date).toISOString())}})}})]})})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),i()}},[[34,1,2]]]);
//# sourceMappingURL=main.3deed45c.chunk.js.map